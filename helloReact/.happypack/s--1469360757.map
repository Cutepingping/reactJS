{"version":3,"sources":["src\\pages\\category\\prodCategoryView.jsx"],"names":["Cat","dispatch","model","form","selectCategory","checkedKeys","resetFields","data","originalCategoryList","find","item","id","type","namespace","payload","actionType","detailData","selectedKeys","create","parentId","status","isFinal","deleteItem","sort","catalogId","isFinalNode","modelObj","searchValue","autoExpandParent","categoryList","expandedKeys","btnLoading","pageConfig","contentHeight","categoryProps","nameSpace","isSort","leftSpan","rightSpan","width","mapStateToProps"],"mappings":";;;;;;;;;;;;AAMA;;;;AACA;;AAEA;;AACA;;;;AACA;;;;AACA;;AACA;;;;AAGA,IAAMA,MAAM,SAANA,GAAM,OAA6B;AAAA,MAA3BC,QAA2B,QAA3BA,QAA2B;AAAA,MAAjBC,KAAiB,QAAjBA,KAAiB;AAAA,MAAVC,IAAU,QAAVA,IAAU;;AACvC;AACA,WAASC,cAAT,CAAwBC,WAAxB,EAAqC;AACnCF,SAAKG,WAAL;AACA,QAAMC,OAAOC,qBAAqBC,IAArB,CAA0B;AAAA,aAAQC,KAAKC,EAAL,GAAU,EAAV,KAAiBN,YAAY,CAAZ,CAAzB;AAAA,KAA1B,CAAb;;AAEAJ,aAAS;AACPW,YAASC,SAAT,iBADO,EAC2BC,SAAS;AACzCC,oBAAY,MAD6B;AAEzCC,oBAAYT,QAAQ,EAFqB;AAGzCU,sBAAcZ;AAH2B;AADpC,KAAT;AAOD;;AAED,WAASa,MAAT,CAAgBP,EAAhB,EAAoB;AAClBL;AACA;AACAL,aAAS;AACPW,YAASC,SAAT;AADO,KAAT;AAGAZ,aAAS;AACPW,YAASC,SAAT,iBADO,EAC2BC,SAAS;AACzCC,oBAAY,KAD6B;AAEzCC,oBAAY;AACVG,oBAAUR,MAAM,GADN;AAEVS,kBAAQ,CAFE;AAGVC,mBAAS;AAHC;AAF6B;AADpC,KAAT;AAUD;;AAED,WAASC,UAAT,CAAoBX,EAApB,EAAwB;AACtBV,aAAS,EAACW,MAASC,SAAT,YAAD,EAA8BC,SAAS,EAACH,MAAD,EAAvC,EAAT;AACD;;AAED,WAASY,IAAT,CAAcZ,EAAd,EAAkBY,IAAlB,EAAwB;AACtBtB,aAAS,EAACW,MAASC,SAAT,UAAD,EAA4BC,SAAS,EAACU,WAAWb,EAAZ,EAAgBC,MAAMW,IAAtB,EAArC,EAAT;AACD;;AAED,WAASE,WAAT,CAAqBf,IAArB,EAA2B;AACzB,WAAOA,KAAKW,OAAL,GAAe,EAAf,KAAsB,GAA7B;AACD;;AA3CsC,MA6ChCK,QA7CgC,GA6CTxB,KA7CS,CA6ChCwB,QA7CgC;AAAA,MA6CtBb,SA7CsB,GA6CTX,KA7CS,CA6CtBW,SA7CsB;AAAA,MA8ChCP,WA9CgC,GA8CjBH,IA9CiB,CA8ChCG,WA9CgC;AAAA,MA+ChCqB,WA/CgC,GAgDGD,QAhDH,CA+ChCC,WA/CgC;AAAA,MA+CnBC,gBA/CmB,GAgDGF,QAhDH,CA+CnBE,gBA/CmB;AAAA,MA+CDZ,UA/CC,GAgDGU,QAhDH,CA+CDV,UA/CC;AAAA,MA+CWD,UA/CX,GAgDGW,QAhDH,CA+CWX,UA/CX;AAAA,MA+CuBc,YA/CvB,GAgDGH,QAhDH,CA+CuBG,YA/CvB;AAAA,MA+CqCrB,oBA/CrC,GAgDGkB,QAhDH,CA+CqClB,oBA/CrC;AAAA,MA+C2DsB,YA/C3D,GAgDGJ,QAhDH,CA+C2DI,YA/C3D;AAAA,MAgDrCC,UAhDqC,GAgDGL,QAhDH,CAgDrCK,UAhDqC;AAAA,MAgDzBd,YAhDyB,GAgDGS,QAhDH,CAgDzBT,YAhDyB;AAAA,MAgDXe,UAhDW,GAgDGN,QAhDH,CAgDXM,UAhDW;;AAiDvC,MAAMC,gBAAgB,GAAtB;AACA,MAAMC,gBAAgB;AACpBL,8BADoB,EACNI,4BADM,EACSL,kCADT,EAC2BD,wBAD3B,EACwCG,0BADxC,EACsD7B,kBADtD,EACgEkC,WAAWtB,SAD3E;AAEpBL,8CAFoB,EAEES,0BAFF,EAEgBC,cAFhB,EAEwBI,sBAFxB,EAEoCU,sBAFpC,EAEgD5B,gBAAgBA,cAFhE,EAEgFmB,UAFhF,EAEsFE,wBAFtF;AAGpBW,YAAQ,IAHY;AAIpBC,cAAU,CAJU;AAKpBC,eAAW,EALS;AAMpBC,WAAO;AANa,GAAtB;;AASA,SACE;AAAC,sBAAD;AAAcL,iBAAd;AACE,kCAAC,4BAAD,IAAQ,MAAM,EAAClB,sBAAD,EAAaD,sBAAb,EAAyBgB,sBAAzB,EAAqCvB,0CAArC,EAA2DK,oBAA3D,EAAd;AADF,GADF;AAKD,CAhED,C,CAhBA;;;;;;kBAkFe,kBAAQ2B,2BAAR,EAAyB,eAAKtB,MAAL,GAAclB,GAAd,CAAzB,C","file":"prodCategoryView.jsx","sourceRoot":"C:/Users/liu.ping/helloReact","sourcesContent":["/*\r\n * 产品分类\r\n *\r\n * @author 苏离\r\n * @since 20180621\r\n */\r\nimport React, {PropTypes} from 'react'\r\nimport {connect} from 'dva'\r\nimport {Button, Form, Popconfirm} from 'antd';\r\nimport {isEmpty} from 'lodash'\r\nimport cx from 'classnames'\r\nimport Detail from './prodCategoryDetail'\r\nimport {Category} from '../../widget/Category/Category'\r\nimport {mapStateToProps} from '../../utils/view_utils'\r\n\r\n\r\nconst Cat = ({dispatch, model, form}) => {\r\n  //选中类目\r\n  function selectCategory(checkedKeys) {\r\n    form.resetFields();\r\n    const data = originalCategoryList.find(item => item.id + '' === checkedKeys[0]);\r\n\r\n    dispatch({\r\n      type: `${namespace}/updateStore`, payload: {\r\n        actionType: 'edit',\r\n        detailData: data || {},\r\n        selectedKeys: checkedKeys\r\n      }\r\n    })\r\n  }\r\n\r\n  function create(id) {\r\n    resetFields();\r\n    //更新店铺列表\r\n    dispatch({\r\n      type: `${namespace}/getShopList`\r\n    })\r\n    dispatch({\r\n      type: `${namespace}/updateStore`, payload: {\r\n        actionType: 'add',\r\n        detailData: {\r\n          parentId: id || '0',\r\n          status: 1,\r\n          isFinal: 0\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  function deleteItem(id) {\r\n    dispatch({type: `${namespace}/delete`, payload: {id}})\r\n  }\r\n\r\n  function sort(id, sort) {\r\n    dispatch({type: `${namespace}/sort`, payload: {catalogId: id, type: sort}})\r\n  }\r\n\r\n  function isFinalNode(item) {\r\n    return item.isFinal + '' === '0'\r\n  }\r\n\r\n  const {modelObj, namespace} = model;\r\n  const {resetFields} = form;\r\n  const {searchValue, autoExpandParent, detailData, actionType, categoryList, originalCategoryList, expandedKeys,\r\n    btnLoading, selectedKeys, pageConfig} = modelObj;\r\n  const contentHeight = 550\r\n  const categoryProps = {\r\n    categoryList, contentHeight, autoExpandParent, searchValue, expandedKeys, dispatch, nameSpace: namespace,\r\n    originalCategoryList, selectedKeys, create, deleteItem, pageConfig, selectCategory: selectCategory, sort, isFinalNode,\r\n    isSort: true,\r\n    leftSpan: 6,\r\n    rightSpan: 18,\r\n    width: '100%'\r\n  }\r\n\r\n  return (\r\n    <Category {...categoryProps}>\r\n      <Detail data={{detailData, actionType, btnLoading, originalCategoryList, namespace}}/>\r\n    </Category>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps)(Form.create()(Cat))\r\n"]}