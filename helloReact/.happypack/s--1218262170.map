{"version":3,"sources":["src\\pages\\myPage\\myPageMod.js"],"names":["defultState","xxx","vis","title","tmpModule","namespace","state","subscriptions","setup","dispatch","history","listen","pathname","query","type","payload","effects","queryInfo","put","call","select","console","log","tmpState","getMember","data","resultCode","resultMsg","error","reducers","updateStore","preState","action","Object","assign"],"mappings":";;;;;;;;;;AACA;;AAGA;;AAIA;;;;AAKA;;AAEA;;;;AAEA;;AARA;;;;;;AANA;AAeA,IAAMA,cAAc;AAClBC,OAAK,GADa;AAElBC,OAAM,KAFY;AAGlBC,SAAO;;AAGT;AANoB,CAApB;AAJA;;AAPA;;AAFA;AALA;AAyBA,IAAMC,YAAY;AAChBC,aAAW,WADK;AAEhB;AACAC,SAAO,uBAAUN,WAAV,CAHS;AAIhB;AACAO,iBAAe;AACbC,SADa,uBACe;AAAA,UAApBC,QAAoB,QAApBA,QAAoB;AAAA,UAAVC,OAAU,QAAVA,OAAU;;AAC1BA,cAAQC,MAAR,CAAe,iBAAyB;AAAA,YAAtBC,QAAsB,SAAtBA,QAAsB;AAAA,YAAZC,KAAY,SAAZA,KAAY;;AACtC;AACA,YAAG,KAAKT,UAAUQ,QAAf,KAA4B,KAAKA,QAApC,EAA6C;AAC3C;AACAH,mBAAS;AACPK,kBAAM,WADC;AAEPC,qBAAS;AAFF,WAAT,EAF2C,CAKxC;AACJ,SARqC,CAQpC;AACH,OATD,EAD0B,CAUvB;AACJ;AAZY,GALC;;AAoBhB;AACAC,WAAS;AACP;AACCC,aAFM;AAAA,UAEMF,OAFN,SAEMA,OAFN;AAAA,UAEmBG,GAFnB,SAEmBA,GAFnB;AAAA,UAEwBC,IAFxB,SAEwBA,IAFxB;AAAA,UAE8BC,MAF9B,SAE8BA,MAF9B;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIH;AACAC,sBAAQC,GAAR,CAAY,iBAAZ;AACA;AANG,+CAOI,KAPJ;;AAAA;AAQCC,sBARD;AAAA;AAAA,qBAU6CJ,KAAKK,qBAAL,EAAgB,eAAM,EAAEtB,KAAKqB,QAAP,EAAN,CAAhB,CAV7C;;AAAA;AAAA;AAUKE,kBAVL,SAUKA,IAVL;AAUYC,wBAVZ,SAUYA,UAVZ;AAUyBC,uBAVzB,SAUyBA,SAVzB;AAAA;AAAA,qBAYGT,IAAI,EAAE;AACVJ,sBAAM,aADE,EACa;AACrBC,yBAAQ;AAFA,eAAJ,CAZH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAmBHM,sBAAQO,KAAR;;AAnBG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAsBP;AACC1B,OAvBM;AAAA,gCAuBAa,OAvBA;AAAA,UAuBSb,IAvBT,iBAuBSA,GAvBT;AAAA,UAuBaC,KAvBb,iBAuBaA,KAvBb;AAAA,UAuByBe,GAvBzB,SAuByBA,GAvBzB;AAAA,UAuB8BC,IAvB9B,SAuB8BA,IAvB9B;AAAA,UAuBoCC,MAvBpC,SAuBoCA,MAvBpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAyBGF,IAAI,EAAE;AACVJ,sBAAM,aADE,EACa;AACrBC,yBAAQ;AACNb,2BADM;AAENC;AAFM;AAFA,eAAJ,CAzBH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAiCHkB,sBAAQO,KAAR;;AAjCG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GArBO;;AA2DhB;AACAC,YAAU;AACRC,eADQ,uBACIC,QADJ,EACcC,MADd,EACsB;AAC5B,aAAOC,OAAOC,MAAP,CAAc,EAAd,EAAkBH,QAAlB,EAA4BC,OAAOjB,OAAnC,CAAP;AACD;AAHO;AA5DM,CAAlB;;kBAmEeX,S","file":"myPageMod.js","sourceRoot":"C:/Users/liu.ping/helloReact","sourcesContent":["// 引入接口文件\r\nimport { getMember } from './myPageServ.js'\r\n\r\n// 对象和JSON字符串互转\r\nimport { parse } from 'qs'\r\n// 弹出消息框\r\nimport { message } from 'antd'\r\n// 日期处理对象\r\nimport moment from 'moment'\r\n/* isEmpty 对象是否为空\r\n * isArray 对象是否数组\r\n * cloneDeep 对象深拷贝\r\n */\r\nimport {isEmpty, isArray, cloneDeep, merge} from 'lodash'\r\n// 引入路由对象\r\nimport { hashHistory } from 'dva/router'\r\n\r\n// 初始默认状态\r\nconst defultState = {\r\n  xxx: '1',\r\n  vis:  false,\r\n  title: '标题1'\r\n}\r\n\r\n// 声明module\r\nconst tmpModule = {\r\n  namespace: 'myPageMod',\r\n  // 默认状态\r\n  state: cloneDeep(defultState),\r\n  // 入口函数(先执行)\r\n  subscriptions: {\r\n    setup ({dispatch, history}) {\r\n      history.listen(({ pathname, query }) => {\r\n        // 页面路由匹配时执行\r\n        if('' + tmpModule.pathname === '' + pathname){\r\n          // 执行业务操作\r\n          dispatch({\r\n            type: 'queryInfo',\r\n            payload: {}\r\n          }) // end dispatch\r\n        } // end if\r\n      }) // end listen\r\n    },\r\n  },\r\n\r\n  // 方法列表\r\n  effects: {\r\n    // 查询记录\r\n    *queryInfo({ payload }, { put, call, select }) {\r\n      try{\r\n        // 中断往下执行，以下是示例代码，代码生成后去掉 return false可继续执行\r\n        console.log('this is default')\r\n        // 获取当前组件状态机中的数据，也可以获取其他组件的状态机数据，只要他们被创建过\r\n        return false;\r\n        let tmpState = yield select(state => state[tmpModule.namespace])\r\n        //调用接口，并传参\r\n        const { data , resultCode , resultMsg } = yield call(getMember, parse({ vis: tmpState }))\r\n        //调完接口，将返回的数据存入到状态机\r\n        yield put({ // 调用reducers中方法，把新数据与状态机数据合并更新\r\n          type: 'updateStore', // 方法名，也可以调用effects中的方法\r\n          payload:{\r\n          \r\n          }\r\n        })\r\n      }catch(e){\r\n        console.error(e)\r\n      }\r\n    },\r\n    //查询记录\r\n    *vis({ payload:{vis,title} }, { put, call, select }) {\r\n      try{\r\n        yield put({ // 调用reducers中方法，把新数据与状态机数据合并更新\r\n          type: 'updateStore', // 方法名，也可以调用effects中的方法\r\n          payload:{\r\n            vis,\r\n            title\r\n          }\r\n        })\r\n      }catch(e){\r\n        console.error(e)\r\n      }\r\n    },\r\n  }, \r\n\r\n  // 存入状态机\r\n  reducers: {\r\n    updateStore(preState, action) {\r\n      return Object.assign({}, preState, action.payload)\r\n    }\r\n  }\r\n}\r\n\r\nexport default tmpModule\r\n"]}