{"version":3,"sources":["src\\widget\\Layout\\Bread\\Bread.jsx"],"names":["pathSet","fullPath","getPathSet","menuArray","parentPath","forEach","item","key","replace","hyphenToHump","path","name","icon","clickable","undefined","child","menu","Bread","location","currTabTitle","pathNames","pathname","substr","split","push","breadsArray","filter","breads","map","content","length","title","styles","bread","config","sysType","propTypes","PropTypes","object"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;AAEA;;AACA;;;;AACA;;AACA;;;;;;AAEA,IAAIA,UAAU,EAAd;AAAA,IAAkBC,WAAW,EAA7B;AACA,IAAMC,aAAa,SAAbA,UAAa,CAAUC,SAAV,EAAqBC,UAArB,EAAiC;AAClDA,eAAaA,cAAc,EAA3B;AACAD,YAAUE,OAAV,CAAkB,gBAAQ;AACxBJ,eAAW,WAAWG,UAAX,GAAwBE,KAAKC,GAAxC;AACAP,YAASC,QAAD,CAAWO,OAAX,CAAmB,KAAnB,EAA0B,GAA1B,EAA+BC,YAA/B,EAAR,IAAyD;AACvDC,YAAMT,QADiD;AAEvDU,YAAML,KAAKK,IAF4C;AAGvDC,YAAMN,KAAKM,IAAL,IAAa,EAHoC;AAIvDC,iBAAWP,KAAKO,SAAL,KAAmBC;AAJyB,KAAzD;AAMA,QAAIR,KAAKS,KAAT,EAAgB;AACdb,iBAAWI,KAAKS,KAAhB,OAA0BX,UAA1B,GAAuCE,KAAKC,GAA5C;AACD;AACF,GAXD;AAYD,CAdD;AAeAL,WAAWc,WAAX;;AAEA,SAASC,KAAT,OAA4C;AAAA,MAA1BC,QAA0B,QAA1BA,QAA0B;AAAA,MAAhBC,YAAgB,QAAhBA,YAAgB;;AAC1C,MAAIC,YAAY,EAAhB;AACAF,WAASG,QAAT,CAAkBC,MAAlB,CAAyB,CAAzB,EAA4BC,KAA5B,CAAkC,GAAlC,EAAuClB,OAAvC,CAA+C,UAACC,IAAD,EAAOC,GAAP,EAAe;AAC5D,QAAIA,MAAM,CAAV,EAAa;AACXa,gBAAUI,IAAV,CAAe,CAAIJ,UAAUb,MAAM,CAAhB,CAAJ,SAA0BD,IAA1B,EAAkCG,YAAlC,EAAf;AACD,KAFD,MAEO;AACLW,gBAAUI,IAAV,CAAe,OAAKlB,IAAL,EAAaG,YAAb,EAAf;AACD;AACF,GAND;;AAQA,MAAMgB,cAAcL,UAAUM,MAAV,CAAiB;AAAA,WAASpB,QAAQN,OAAjB;AAAA,GAAjB,CAApB;AACA,MAAM2B,SAASF,YAAYG,GAAZ,CAAgB,UAACtB,IAAD,EAAOC,GAAP,EAAe;AAC5C,QAAMsB;AACJ;AACA;AACA;AACA;AAAA;AAAA;AAAO7B,cAAQM,IAAR,EAAcK;AAArB,KAJF;AAMA,WACE;AAAA,2BAAY,IAAZ;AAAA,QAAiB,KAAKJ,GAAtB;AACKsB;AADL,KADF;AAKD,GAZc,CAAf;AAaA;AACA,MAAGF,UAAUA,OAAOG,MAAP,GAAgB,CAA1B,IAA+BX,YAA/B,IAA+CA,aAAaY,KAA/D,EAAsE;AACpEJ,WAAOH,IAAP,CAAa;AAAA,2BAAY,IAAZ;AAAA,QAAiB,KAAI,GAArB;AACX;AAAA;AAAA;AAAOL,qBAAaY,KAApB;AAAA;AAAA;AADW,KAAb;AAGD;;AAGD,SACE;AAAA;AAAA,MAAK,WAAWC,gBAAOC,KAAvB;AACE;AAAA;AAAA,QAAY,WAAU,GAAtB;AACE;AAAA,6BAAY,IAAZ;AAAA;AAEI,wDAAM,MAAK,MAAX,GAFJ;AAGE;AAAA;AAAA;AAAM;AAAC,wBAAD;AAAA,cAAM,IAAG,GAAT;AAAcC,6BAAOC,OAAP,KAAmB,WAAnB,GAAiC,MAAjC,GAAyC;AAAvD;AAAN;AAHF,OADF;AAOGR;AAPH;AADF,GADF;AAaD;;AAEDV,MAAMmB,SAAN,GAAkB;AAChBlB,YAAUmB,iBAAUC;AADJ,CAAlB;;kBAIerB,K","file":"Bread.jsx","sourceRoot":"C:/Users/liu.ping/helloReact","sourcesContent":["import React, { PropTypes } from 'react'\r\nimport { Breadcrumb, Icon } from 'antd'\r\nimport { Link } from 'dva/router'\r\nimport styles from './Bread.less'\r\nimport { menu } from '../../../utils'\r\nimport config from '../../../config/config'\r\n\r\nlet pathSet = [], fullPath = ''\r\nconst getPathSet = function (menuArray, parentPath) {\r\n  parentPath = parentPath || ''\r\n  menuArray.forEach(item => {\r\n    fullPath = '/home/' + parentPath + item.key\r\n    pathSet[(fullPath).replace(/\\//g, '-').hyphenToHump()] = {\r\n      path: fullPath,\r\n      name: item.name,\r\n      icon: item.icon || '',\r\n      clickable: item.clickable === undefined,\r\n    }\r\n    if (item.child) {\r\n      getPathSet(item.child, `${parentPath}${item.key}/`)\r\n    }\r\n  })\r\n}\r\ngetPathSet(menu)\r\n\r\nfunction Bread ({ location, currTabTitle }) {\r\n  let pathNames = []\r\n  location.pathname.substr(1).split('/').forEach((item, key) => {\r\n    if (key > 0) {\r\n      pathNames.push((`${pathNames[key - 1]}-${item}`).hyphenToHump())\r\n    } else {\r\n      pathNames.push((`-${item}`).hyphenToHump())\r\n    }\r\n  })\r\n\r\n  const breadsArray = pathNames.filter(item => (item in pathSet))\r\n  const breads = breadsArray.map((item, key) => {\r\n    const content = (\r\n      // <span>{pathSet[item].icon\r\n      //     ? <Icon type={pathSet[item].icon} style={{ marginRight: 4 }} />\r\n      //     : ''}{pathSet[item].name}</span>\r\n      <span>{pathSet[item].name}</span>\r\n    )\r\n    return (\r\n      <Breadcrumb.Item key={key}>\r\n          {content}\r\n      </Breadcrumb.Item>\r\n    )\r\n  })\r\n  //解决当进入左侧菜单中不存在的页面时，面包屑无法显示页面标题的问题\r\n  if(breads && breads.length < 2 && currTabTitle && currTabTitle.title) {\r\n    breads.push((<Breadcrumb.Item key=\"2\">\r\n      <span>{currTabTitle.title} </span>\r\n    </Breadcrumb.Item>))\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={styles.bread}>\r\n      <Breadcrumb separator=\">\">\r\n        <Breadcrumb.Item >\r\n          {/*<Link to=\"/businessmanHome\">*/}\r\n            <Icon type=\"home\" />\r\n          <span><Link to=\"/\">{config.sysType === 'entCenter' ? '企业中心': '首页'}</Link></span>\r\n          {/*</Link>*/}\r\n        </Breadcrumb.Item>\r\n        {breads}\r\n      </Breadcrumb>\r\n    </div>\r\n  )\r\n}\r\n\r\nBread.propTypes = {\r\n  location: PropTypes.object,\r\n}\r\n\r\nexport default Bread\r\n"]}