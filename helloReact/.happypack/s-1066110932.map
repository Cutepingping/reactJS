{"version":3,"sources":["src\\widget\\CollapsiblePanels\\AdvanceSearch.jsx"],"names":["Component","React","props","context","state","collapse","nextProps","nextState","prevProps","prevState","windowOnResize","window","onresize","winWidth","document","body","offsetWidth","colNum","xs","md","lg","xl","isDisplayBtn","colData","children","data","totalColNum","length","setState","propsChildren","queryList","styles","searchBox","style","positionBtn","footer","btnContent","collapseBtn","changeStatus"],"mappings":"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","file":"AdvanceSearch.jsx","sourceRoot":"C:/Users/liu.ping/helloReact","sourcesContent":["import React from 'react';\r\nimport {Icon} from 'antd';\r\nconst {Component} = React\r\nimport styles from './AdvanceSearch.less'\r\nimport cx from 'classnames'\r\nexport default class extends Component {\r\n  // 构造函数\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.state = {\r\n      collapse: true,\r\n    }\r\n  }\r\n\r\n  componentWillUpdate(nextProps, nextState) {\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.windowOnResize();\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.onresize = () => this.windowOnResize();\r\n  }\r\n\r\n  // 屏幕宽度改边触发的函数\r\n  windowOnResize() {\r\n    let winWidth = document.body.offsetWidth;\r\n    let colNum = 2;\r\n    let xs = 768, md = 992, lg = 1200, xl = 1600;\r\n    let isDisplayBtn = false;\r\n    let colData = this.props.children.props.data;\r\n\r\n    //获取一行显示的列数\r\n    if(winWidth < xs) {\r\n      colNum = 2;\r\n    }else  if(winWidth >= md && winWidth < lg) {\r\n      colNum = 2;\r\n    }else  if(winWidth >= lg && winWidth < xl) {\r\n      colNum = 3;\r\n    }else if(winWidth >= xl){\r\n      colNum = 4;\r\n    }\r\n\r\n    //支持没有使用条件搜索组件的情况，可使用totalColNum代替\r\n    if(this.props.totalColNum) {\r\n      this.props.totalColNum > colNum && (isDisplayBtn = true);\r\n    } else {\r\n      if(colData && colData.length > colNum) {\r\n        isDisplayBtn = true;\r\n      }\r\n    }\r\n\r\n    this.setState({ colNum, isDisplayBtn });\r\n  }\r\n\r\n  changeStatus() {\r\n    this.setState({collapse: !this.state.collapse})\r\n  };\r\n\r\n  render() {\r\n    // 获取配置数据\r\n    const { colNum, isDisplayBtn } = this.state;\r\n\r\n    // 获取传入的子元素\r\n    const propsChildren = this.props.children;\r\n    // 获取搜索条件\r\n    const queryList = propsChildren.props.data;\r\n\r\n    return (\r\n      <div className={cx('boxShadow', styles.searchBox)} style={this.props.style ? this.props.style : {}}>\r\n        <div className={this.state.collapse ? styles.collapse: ''}>\r\n          {this.props.children}\r\n        </div>\r\n        {\r\n          queryList.length < colNum\r\n            ? <span className={styles.positionBtn}>\r\n              {this.props.footer}\r\n            </span>\r\n            : <div className={styles.btnContent}>\r\n              <span className=\"fright\">\r\n                {this.props.footer}\r\n              </span>\r\n            {\r\n              isDisplayBtn && <a className={cx('txtleft', styles.collapseBtn)} onClick={() => this.changeStatus()}>\r\n                {\r\n                  this.state.collapse\r\n                    ? <span>高级搜索<i className=\"iconfont icon-zhankai mg1l\" /></span>\r\n                    : <span>简单搜索<i className=\"iconfont icon-shouqi mg1l\" /></span>\r\n                }\r\n              </a>\r\n            }\r\n          </div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]}