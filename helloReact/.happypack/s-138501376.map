{"version":3,"sources":["src\\config\\request.js"],"names":["request","option","autoErrHandleFlag","url","indexOf","config","baseUrl","headers","orgId","unitId","channelId","Cookie","get","cookie","userName"],"mappings":";;;;;;;;;;QAiBgBA,O,GAAAA,O;;AAZhB;;AACA;;;;AACA;;AACA;;;;;;AAEA;;;;;;AAMA;AAhBA;;;;;AAiBO,SAASA,OAAT,CAAiBC,MAAjB,EAAmD;AAAA,MAA1BC,iBAA0B,uEAAN,IAAM;AAAA,MACnDC,GADmD,GAC5CF,MAD4C,CACnDE,GADmD;;AAExD,MAAGA,IAAIC,OAAJ,CAAY,MAAZ,KAAuB,CAA1B,EAA4B;AAC1BH,WAAOE,GAAP,GAAaA,GAAb;AACD,GAFD,MAEO;AACLF,WAAOE,GAAP,GAAaE,iBAAOC,OAAP,GAAiBH,GAA9B;AACD;AACDF,SAAOM,OAAP,8BACKN,OAAOM,OADZ;AAEEC,WAAO,+BAAa,YAAb,CAFT;AAGEC,YAAQ,+BAAa,eAAb,CAHV;AAIEC,eAAWC,mBAAOC,GAAP,CAAWP,iBAAOQ,MAAP,CAAcC,QAAd,GAAyB,UAApC;AAJb;;AAOA,SAAO,oBAAcb,MAAd,EAAsBC,iBAAtB,CAAP;AACD","file":"request.js","sourceRoot":"C:/Users/liu.ping/helloReact","sourcesContent":["/**\r\n * @(#)request.js 0.5.1 2017-09-13\r\n * Copyright (c) 2017, YUNXI. All rights reserved.\r\n * YUNXI PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.\r\n */\r\nimport { request as commonRequest } from '../utils'\r\nimport config from './config'\r\nimport { getLocalData } from '../utils/globalScope'\r\nimport Cookie from 'js-cookie'\r\n\r\n/*\r\n * 请求\r\n *\r\n * @author 苏离\r\n * @since 0.5.1\r\n */\r\n//项目统一处理，例如对不同service使用不同host\r\nexport function request(option, autoErrHandleFlag = true) {\r\n  let {url} = option;\r\n  if(url.indexOf(\"http\") >= 0){\r\n    option.url = url;\r\n  } else {\r\n    option.url = config.baseUrl + url;\r\n  }\r\n  option.headers = {\r\n    ...option.headers,\r\n    orgId: getLocalData('currentOrg'),\r\n    unitId: getLocalData('currentUnitId'),\r\n    channelId: Cookie.get(config.cookie.userName + '_channel')\r\n  }\r\n\r\n  return commonRequest(option, autoErrHandleFlag)\r\n}\r\n"]}