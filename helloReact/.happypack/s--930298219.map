{"version":3,"sources":["src\\widget\\Layout\\Sider\\SiderView.jsx"],"names":["Search","setSiderFold","siderFold","sessionStorage","setItem","getSiderFold","getItem","setOpenKey","key","getOpenKey","setSelectedKey","getSelectedKey","getMenus","menuArray","parentPath","map","linkTo","item","copyLinkTo","child","name","icon","getMenusExt","props","context","state","menuConfig","loadedSuccess","length","nextProps","nextState","self","applicationId","config","result","menuList","resultCode","data","Promise","resolve","reject","resultMsg","sysType","menuFilter","menu","forEach","d","filteredMenusKeys","includes","push","userType","userInfoKey","auth","isB2bLogin","window","location","href","redirectLoginUrl","Cookie","get","cookie","resp","isStaticMenu","defaultAuthMenu","staticMenuConfig","getMenuList","setState","getAuthPath","addClass","removeClass","toggleSiderTree","onInlineMenuEvtListen","onVerticalMenuEvtListen","initDefaultMenu","console","log","elem","openKey","selectedKey","hasRole","attr","find","siblings","each","idx","setMenuStatus","on","click","e","preventDefault","stopPropagation","siblingsObj","hide","slideToggle","iconObj","hasClass","toggleClass","hashHistory","scrollbar","setTimeout","update","mouseover","mouseout","mouseenter","mouseleave","layoutCont","hasFold","oper","top","parseInt","css","lastChildTop","offset","keys","isShowAll","elemKey","hideObj","show","tmpArr","val","m","i","mc","j","indexOf","getSearchResult","res","getSearchKeys","showSearchHandler","styles","button","toggleFold","width","onSearchHandler","value","fixScrollHeight","trackVertical","thumbVertical","renderMenuItems","menuUpDown","fontSize","Component"],"mappings":"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","file":"SiderView.jsx","sourceRoot":"C:/Users/liu.ping/helloReact","sourcesContent":["import React from 'react'\r\nimport { Component } from 'react'\r\nimport { Menu, Icon, Input } from 'antd'\r\nimport { Link, hashHistory } from 'dva/router'\r\nimport $ from 'jquery'\r\nimport { get, includes, filter } from 'lodash'\r\nimport cx from 'classnames'\r\nimport styles  from './SiderStyle.less'\r\nimport { queryAuthPath } from './SiderServ'\r\nimport { config } from '../../../utils'\r\nimport staticMenuConfig from '../../../config/menu'\r\nimport { messageInform } from '../../../utils/notification'\r\nimport { authFilter } from '../../../utils/permission-control'\r\nimport { getLocalData } from '../../../utils/globalScope'\r\nimport Cookie from 'js-cookie'\r\n//自定义滚动条（解决ie、firefox自带滚动条难看的问题）\r\nimport { Scrollbars } from '../../ScrollBar/index'\r\n\r\nconst Search = Input.Search\r\n\r\n// 存储左侧菜单展开、折叠状态\r\nconst setSiderFold = function(siderFold){\r\n  sessionStorage.setItem('IS_SIDER_FOLD', siderFold)\r\n}\r\n\r\n// 获取左侧菜单展开、折叠状态\r\nconst getSiderFold = function(){\r\n  return '' + sessionStorage.getItem('IS_SIDER_FOLD') === 'true'\r\n}\r\n\r\n// 存储左侧菜单打开的项\r\nconst setOpenKey = function(key){\r\n  sessionStorage.setItem('SIDER_OPEN_KEY', key)\r\n}\r\n\r\n// 获取左侧菜单打开的项\r\nconst getOpenKey = function(){\r\n  return sessionStorage.getItem('SIDER_OPEN_KEY')\r\n}\r\n\r\n// 存储左侧菜单选中的项\r\nconst setSelectedKey = function(key){\r\n  sessionStorage.setItem('SIDER_SELECTED_KEY', key)\r\n}\r\n\r\n// 存储左侧菜单选中的项\r\nconst getSelectedKey = function(){\r\n  return sessionStorage.getItem('SIDER_SELECTED_KEY')\r\n}\r\n\r\n// 递归查询菜单\r\nconst getMenus = function(menuArray, parentPath = '/'){\r\n\r\n  // 遍历菜单列表\r\n  return menuArray.map(item => {\r\n    let linkTo = parentPath + item.key\r\n    let copyLinkTo = linkTo\r\n\r\n    // 菜单节点，有叶子节点，则递归遍历叶子\r\n    if(item.child){\r\n       return (\r\n        <li key={ copyLinkTo } data-link={ item.key } className=\"ant-menu-submenu-inline ant-menu-submenu\">\r\n          <div className=\"ant-menu-submenu-title\" style={{'paddingLeft': '24px'}}>\r\n            <span>\r\n              <i className='iconfont icon-Packup'></i>\r\n              { item.name }\r\n            </span>\r\n          </div>\r\n          <ul className=\"ant-menu ant-menu-inline ant-menu-sub ant-menu-hidden\" role=\"menu\">\r\n            { getMenus(item.child, `${linkTo}/`) }\r\n          </ul>\r\n        </li>\r\n      )\r\n    // 最后一级节点，无叶子节点，附加资源ID，用于权限操作\r\n    }\r\n    // 最后一级节点，直接渲染\r\n    return (\r\n      <li key={ copyLinkTo } data-link={ item.key } className=\"ant-menu-item\" role=\"menuitem\" style={{'paddingLeft': '45px'}}>\r\n        <a href='javascript:;' data-to={`/home${linkTo}`}>\r\n          <span>\r\n            <i className={`iconfont ${item.icon}`}></i>\r\n            { item.name }\r\n          </span>\r\n        </a>\r\n      </li>\r\n    )\r\n  })\r\n}\r\n\r\n// 递归查询菜单\r\nconst getMenusExt = function(menuArray, parentPath = '/'){\r\n\r\n  // 遍历菜单列表\r\n  return menuArray.map(item => {\r\n    let linkTo = parentPath + item.key\r\n    let copyLinkTo = linkTo\r\n\r\n    // 菜单节点，有叶子节点，则递归遍历叶子\r\n    if(item.child){\r\n       return (\r\n        <li key={ copyLinkTo } data-link={ item.key } className=\"ant-menu-submenu-vertical ant-menu-submenu\">\r\n          <div className=\"ant-menu-submenu-title\">\r\n            <span>\r\n              <i className={`iconfont ${item.icon}`}></i>\r\n            </span>\r\n          </div>\r\n          <ul className={`ant-menu ant-menu-vertical ant-menu-sub ant-menu-hidden`} role=\"menu\">\r\n            { getMenusExt(item.child, `${linkTo}/`) }\r\n          </ul>\r\n        </li>\r\n      )\r\n    // 最后一级节点，无叶子节点，附加资源ID，用于权限操作\r\n    }\r\n    // 最后一级节点，直接渲染\r\n    return (\r\n      <li key={ copyLinkTo } data-link={ item.key } className=\"ant-menu-item\" role=\"menuitem\">\r\n        <a href='javascript:;' data-to={`/home${linkTo}`}>\r\n          <span>\r\n            <i className={`iconfont ${item.icon}`}></i>\r\n            { item.name }\r\n          </span>\r\n        </a>\r\n      </li>\r\n    )\r\n  })\r\n}\r\n\r\n// 导出组件\r\nexport default class extends Component{\r\n  // 构造函数\r\n  constructor(props, context) {\r\n    super(props, context)\r\n    this.state = {\r\n      // 菜单配置列表\r\n      menuConfig: [],\r\n      loadedSuccess: false\r\n    }\r\n  }\r\n\r\n  // 渲染菜单项\r\n  renderMenuItems(siderFold){\r\n    if(!this.state.menuConfig || 0 === this.state.menuConfig.length) return false\r\n\r\n    if(!siderFold){\r\n      return getMenus(this.state.menuConfig)\r\n    }else{\r\n      return getMenusExt(this.state.menuConfig)\r\n    }\r\n  }\r\n\r\n  // 是否触发render函数\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    let self = this\r\n    // 若已渲染过，则不重新渲染\r\n    if(self.state.loadedSuccess){\r\n      return false\r\n    }else{\r\n      return true\r\n    }\r\n  }\r\n\r\n  // 请求登录菜单权限\r\n  async getMenuList(){\r\n    try{\r\n      // 查询结果集\r\n      let result = await queryAuthPath({ applicationId: config.applicationId })\r\n      // 返回菜单列表\r\n      let menuList = []\r\n\r\n      if('0' === '' + result.resultCode){\r\n        menuList = result.data ? result.data.child : []\r\n        return Promise.resolve(menuList)\r\n      }else{\r\n        return Promise.reject(result.resultMsg || '未知的查询菜单错误')\r\n      }\r\n\r\n    }catch(e){\r\n      return Promise.reject(e || '未知的查询菜单权限异常')\r\n    }\r\n  }\r\n  //企业中心需区分经销商、分销商菜单\r\n  filterMenu(menuConfig) {\r\n    let result = menuConfig;\r\n\r\n    if(config.sysType === 'entCenter') {\r\n      function menuFilter(menu) {\r\n        let data = [];\r\n        menu && menu.forEach((d) => {\r\n          let result = filteredMenusKeys.includes(d.key)\r\n          if(!result) {\r\n            if(d.child) {\r\n              let child = menuFilter(d.child);\r\n              if(child && child.length) {\r\n                d.child = child;\r\n                data.push(d);\r\n              }\r\n            } else {\r\n              data.push(d);\r\n            }\r\n          }\r\n        })\r\n        return data;\r\n      }\r\n      let filteredMenusKeys = ['distrOrderMgmt', 'myAfterSale', 'backBottleList', 'myAssets', 'invoiceInfo', 'distributorMgmt', 'billingAccountMgmt'];\r\n      //1：经销商 2：分销商\r\n      let userType = get(getLocalData(config.userInfoKey), 'data.type', '');\r\n      if(userType == 2) {\r\n        result = menuFilter(menuConfig);\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  // 查询登录菜单权限\r\n  async getAuthPath(){\r\n    let self = this\r\n    let auth = '';\r\n    if(config.isB2bLogin) {\r\n      //企业中心中，判断是否存在auth，没有则跳转至门户\r\n      auth = get(getLocalData(config.userInfoKey), 'auth', '');\r\n      auth || (window.location.href = config.redirectLoginUrl);\r\n    } else {\r\n      auth = Cookie.get(config.cookie.auth);\r\n    }\r\n    // 没有登录，则中断执行\r\n    if(!auth) return false\r\n\r\n    try{\r\n      // 查询结果\r\n      let resp = null\r\n      // 返回的菜单列表\r\n      let menuList = []\r\n\r\n      let isStaticMenu = get(config, 'isStaticMenu', false)\r\n      // 设置了固定数据\r\n      if(isStaticMenu){\r\n        resp = { \"resultCode\": 0, \"status\": \"success\", \"resultMsg\": \"OK\", \"data\": config.defaultAuthMenu }\r\n        menuList = staticMenuConfig;\r\n      }else{\r\n        menuList = await self.getMenuList()\r\n      }\r\n\r\n      // 返回Promise对象\r\n      return new Promise((resolve, reject) => {\r\n        // 设置到祖状态机\r\n        self.setState({\r\n          menuConfig: menuList,\r\n          loadedSuccess: (menuList && 0 === menuList.length) ? false: true\r\n        }, () => {\r\n          resolve(menuList)\r\n        })\r\n      })\r\n\r\n    }catch(e){\r\n      messageInform(e || '未知的请求菜单权限异常', 'error')\r\n      return Promise.reject(e)\r\n    }\r\n  }\r\n\r\n  // 已插入DOM\r\n  async componentDidMount(){\r\n    let self = this\r\n\r\n    await self.getAuthPath()\r\n\r\n    if(getSiderFold()){\r\n      $('#layoutCont').addClass('fold')\r\n    }else{\r\n      $('#layoutCont').removeClass('fold')\r\n    }\r\n\r\n    // 是否折叠菜单\r\n    self.toggleSiderTree(getSiderFold())\r\n    // 展开菜单事件监听\r\n    self.onInlineMenuEvtListen()\r\n    // 折叠菜单事件监听\r\n    self.onVerticalMenuEvtListen()\r\n\r\n    self.initDefaultMenu(getSiderFold())\r\n\r\n    // 加载完成\r\n    console.log('render ok loadedSuccess')\r\n  }\r\n\r\n  // 设置菜单状态\r\n  setMenuStatus(elem, siderFold){\r\n    let openKey = getOpenKey()\r\n    let selectedKey =  getSelectedKey()\r\n\r\n    // 菜单或叶子\r\n    let hasRole = $(elem).attr('role')\r\n    if(!hasRole){\r\n\r\n      if('' + openKey === '' + $(elem).data('link')){\r\n        $(elem).addClass('ant-menu-submenu-open')\r\n        // 菜单的子节点 - 显示、隐藏\r\n        if('menu' === '' + $(elem).find('ul').attr('role')){\r\n          $(elem).find('ul').removeClass('ant-menu-hidden')\r\n        }\r\n\r\n        // 三角形角标 - 展开、折叠\r\n        if(!siderFold){\r\n          $(elem).find('.ant-menu-submenu-title i').removeClass('icon-Packup').addClass('icon-show')\r\n        }\r\n      }\r\n    }else{\r\n      if('' + selectedKey === '' + $(elem).data('link')){\r\n        // 兄弟节点取消选中\r\n        $(elem).siblings().removeClass('ant-menu-item-selected')\r\n        // 当前叶子选中\r\n        $(elem).addClass('ant-menu-item-selected')\r\n      }\r\n    }\r\n  }\r\n\r\n  // 打开默认的菜单和选中的项\r\n  initDefaultMenu(siderFold){\r\n    let self = this\r\n\r\n    if(!siderFold){\r\n      $('#MenuJsxInline ul.ant-menu-root').find('li').each((idx, elem) => {\r\n        self.setMenuStatus(elem, siderFold)\r\n      })\r\n    }else{\r\n      $('#MenuJsxVertical ul.ant-menu-root').find('li').each((idx, elem) => {\r\n        self.setMenuStatus(elem, siderFold)\r\n      })\r\n    }\r\n  }\r\n\r\n  // 展开菜单事件监听\r\n  onInlineMenuEvtListen(){\r\n\t\tlet self = this\r\n    $('#MenuJsxInline ul.ant-menu-root').find('li').on({\r\n\r\n      // 菜单项点击\r\n      click: function(e){\r\n        // 阻止事件冒泡\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        // 菜单或叶子\r\n        let hasRole = $(this).attr('role')\r\n\r\n        // 菜单点击\r\n        if(!hasRole){\r\n          setOpenKey($(this).data('link'))\r\n\r\n          let siblingsObj = $(this).siblings()\r\n          siblingsObj.find('ul').hide()\r\n          siblingsObj.find('.ant-menu-submenu-title i').removeClass('icon-show').addClass('icon-Packup')\r\n          siblingsObj.removeClass('ant-menu-submenu-active')\r\n\r\n          // 菜单的子节点 - 显示、隐藏\r\n          if('menu' === '' + $(this).find('ul').attr('role')){\r\n            $(this).find('ul').slideToggle(150)\r\n          }\r\n          // 三角形角标 - 展开、折叠\r\n          let iconObj = $(this).find('.ant-menu-submenu-title i')\r\n          if(iconObj.hasClass('icon-Packup')){\r\n            iconObj.removeClass('icon-Packup').addClass('icon-show')\r\n          }else{\r\n            iconObj.removeClass('icon-show').addClass('icon-Packup')\r\n          }\r\n          // 菜单目录 - 展开、折叠\r\n          $(this).toggleClass('ant-menu-submenu-open')\r\n        // 叶子点击\r\n        }else{\r\n          setSelectedKey($(this).data('link'))\r\n          // 清空其它叶子的样式\r\n          $('#MenuJsxInline ul.ant-menu-root').find('li').removeClass('ant-menu-item-selected')\r\n          // 兄弟节点取消选中\r\n          $(this).siblings().removeClass('ant-menu-item-selected')\r\n          // 当前叶子选中\r\n          $(this).addClass('ant-menu-item-selected')\r\n          // 取到跳转的链接\r\n          let linkTo = $(this).find('a').data('to')\r\n          // 跳转\r\n          hashHistory.push(linkTo)\r\n\t\t\t\t}\r\n\t\t\t\t//折叠或展开时，重新计算菜单滚动条\r\n\t\t\t\tif (self.scrollbar) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tself.scrollbar.update();\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t}\r\n      },\r\n      // 鼠标移入\r\n      mouseover: function(e){\r\n        // 阻止事件冒泡\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        // 菜单或叶子\r\n        let hasRole = $(this).attr('role')\r\n        // 菜单移入\r\n        if(!hasRole){\r\n          $(this).siblings().removeClass('ant-menu-submenu-active')\r\n          $(this).addClass('ant-menu-submenu-active')\r\n\r\n        // 叶子节点移入\r\n        }else{\r\n          $(this).siblings().removeClass('ant-menu-item-active')\r\n          $(this).addClass('ant-menu-item-active')\r\n        }\r\n      },\r\n      // 鼠标移出\r\n      mouseout: function(e){\r\n        // 阻止事件冒泡\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        // 菜单或叶子\r\n        let hasRole = $(this).attr('role')\r\n        // 菜单移出\r\n        if(!hasRole){\r\n          $(this).removeClass('ant-menu-submenu-active')\r\n\r\n        // 叶子节点移出\r\n        }else{\r\n          $(this).removeClass('ant-menu-item-active')\r\n        }\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  // 折叠菜单事件监听\r\n  onVerticalMenuEvtListen(){\r\n    $('#MenuJsxVertical ul.ant-menu-root').find('li').on({\r\n      // 菜单项点击\r\n      click: function(e){\r\n        // 阻止事件冒泡\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        // 菜单或叶子\r\n        let hasRole = $(this).attr('role')\r\n        if(!hasRole){\r\n          setOpenKey($(this).data('link'))\r\n        }else{\r\n          setSelectedKey($(this).data('link'))\r\n          // 清空其它叶子的样式\r\n          $('#MenuJsxVertical ul.ant-menu-root').find('li').removeClass('ant-menu-item-selected')\r\n          // 关闭所有子菜单\r\n          $('#MenuJsxVertical ul.ant-menu-root').find('ul').addClass('ant-menu-hidden')\r\n          // 兄弟节点取消选中\r\n          $(this).siblings().removeClass('ant-menu-item-selected')\r\n          // 当前叶子选中\r\n          $(this).addClass('ant-menu-item-selected')\r\n          // 取到跳转的链接\r\n          let linkTo = $(this).find('a').data('to')\r\n          // 跳转\r\n          hashHistory.push(linkTo)\r\n        }\r\n      },\r\n      // 鼠标移入\r\n      mouseenter: function(e){\r\n        // 阻止事件冒泡\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        // 菜单或叶子\r\n        let hasRole = $(this).attr('role')\r\n        if(!hasRole){\r\n          $(this).addClass('ant-menu-submenu-open ant-menu-submenu-active')\r\n          $(this).find('ul').removeClass('ant-menu-hidden')\r\n        }\r\n        // 叶子节点移入\r\n        else{\r\n          $(this).siblings().removeClass('ant-menu-item-active')\r\n          $(this).addClass('ant-menu-item-active')\r\n        }\r\n      },\r\n      // 鼠标移出\r\n      mouseleave: function(e){\r\n        // 阻止事件冒泡\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        // 菜单或叶子\r\n        let hasRole = $(this).attr('role')\r\n        if(!hasRole){\r\n          $(this).removeClass('ant-menu-submenu-open ant-menu-submenu-active')\r\n          $(this).find('ul').addClass('ant-menu-hidden')\r\n        }\r\n        // 叶子节点移出\r\n        else{\r\n          $(this).removeClass('ant-menu-item-active')\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  // 切换菜单树\r\n  toggleSiderTree(siderFold){\r\n    console.log('siderFold:', siderFold)\r\n    if(!siderFold){\r\n      $('#MenuJsxInline').removeClass('displayHide').addClass('displayShow')\r\n      $('#MenuJsxVertical').removeClass('displayShow').addClass('displayHide')\r\n    }else{\r\n      $('#MenuJsxVertical').removeClass('displayHide').addClass('displayShow')\r\n      $('#MenuJsxInline').removeClass('displayShow').addClass('displayHide')\r\n    }\r\n  }\r\n\r\n  // 展开折叠\r\n  toggleFold(e){\r\n    // 阻止事件冒泡\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    let layoutCont = $('#layoutCont')\r\n    layoutCont.toggleClass('fold')\r\n\r\n    // 菜单是否折叠\r\n    let hasFold = !getSiderFold()\r\n\r\n    // 展开、折叠\r\n    let siderFold = hasFold\r\n    // 存储到sessionStorage\r\n    setSiderFold(siderFold)\r\n    // 切换菜单树\r\n    this.toggleSiderTree(siderFold)\r\n  }\r\n\r\n  // 菜单上下滑\r\n  menuUpDown (e, oper){\r\n    // 阻止事件冒泡\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    let top = parseInt($('#MenuJsx').css('top'))\r\n    let lastChildTop = $('#MenuJsx > li:last-child').offset().top\r\n\r\n    if(oper == 'up'){\r\n      if(lastChildTop > 442){\r\n        $('#MenuJsx').css('top',(top - 48) + 'px' )\r\n      }\r\n      console.log('上滑')\r\n    }else if(oper == 'down'){\r\n      if(top < 60){\r\n        $('#MenuJsx').css('top',(top + 48) + 'px' )\r\n      }else{\r\n        $('#MenuJsx').css('top', 97 + 'px' )\r\n      }\r\n      console.log('下滑')\r\n    }\r\n  }\r\n\r\n  // 展示搜索结果 keys要展示的键名\r\n  showSearchHandler(keys, isShowAll){\r\n    // console.log('isShowAll:', isShowAll)\r\n    // 节点的key值\r\n    let elemKey = ''\r\n    // 隐藏的对象\r\n    let hideObj = null\r\n    // 检索所有菜单\r\n    $('#MenuJsxInline ul.ant-menu-root').find('li').each((idx, elem) => {\r\n      elemKey = '' + $(elem).data('link')\r\n\r\n      // 非检索结果菜单处理\r\n      if(!includes(keys, elemKey)){\r\n        hideObj = $(elem)[0]\r\n        // 如果是菜单才隐藏\r\n        if($(hideObj).hasClass('ant-menu-submenu')){\r\n          $(hideObj).hide()\r\n        }\r\n\r\n      // 检索到的结果\r\n      }else{\r\n        // 仅展示搜索的结果\r\n        if(!isShowAll){\r\n          // 当前菜单打开状态\r\n          $(elem).addClass('ant-menu-submenu-open')\r\n          // 菜单的子节点 - 显示、隐藏\r\n          if('menu' === '' + $(elem).find('ul').attr('role')){\r\n            $(elem).find('ul').removeClass('ant-menu-hidden')\r\n          }\r\n          // 三角形角标 - 展开、折叠\r\n          $(elem).find('.ant-menu-submenu-title i').removeClass('icon-Packup').addClass('icon-show')\r\n          // 显示当前菜单\r\n          $(elem).show()\r\n\r\n        // 展示所有，则所有节点折叠\r\n        }else{\r\n          // 当前菜单关闭状态\r\n          $(elem).removeClass('ant-menu-submenu-open')\r\n          // 隐藏菜单的子节点\r\n          if('menu' === '' + $(elem).find('ul').attr('role')){\r\n            $(elem).find('ul').addClass('ant-menu-hidden')\r\n          }\r\n          // 三角形角标 - 展开、折叠\r\n          $(elem).find('.ant-menu-submenu-title i').removeClass('icon-show').addClass('icon-Packup')\r\n          // 显示当前菜单\r\n          $(elem).show()\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  // 获取搜索结果\r\n  getSearchResult(tmpArr, val){\r\n    let result = [], self = this\r\n\r\n    // 过滤包含key值的节点\r\n    tmpArr.map((m, i) => {\r\n      if(m.child){\r\n        m.child.map((mc, j) => {\r\n          if(('' + mc.name).indexOf('' + val) > -1){\r\n            result.push(m)\r\n          }\r\n        })\r\n      }\r\n      if(('' + m.name).indexOf('' + val) > -1){\r\n        result.push(m)\r\n      }\r\n    })\r\n    return result\r\n  }\r\n\r\n  // 获取所有结果的keys\r\n  getSearchKeys(tmpArr, val){\r\n    // 菜单列表\r\n    let keys = [], result = []\r\n\r\n    // 菜单为空，则不执行\r\n    if(0 === tmpArr.length) return false\r\n\r\n    // 不输入，则检索所有节点\r\n    if(!val){\r\n      result = tmpArr\r\n    // 输入，则根据关键字检索\r\n    }else{\r\n      // 过滤包含key值的节点\r\n      result = this.getSearchResult(tmpArr, val)\r\n    }\r\n\r\n    // 如果过滤后的节点有值，则取出key值\r\n    if(result && result.length > 0){\r\n      result.map((res, i) => {\r\n        keys.push(res.key)\r\n      })\r\n    }\r\n    // 返回过滤后菜单节点的keys\r\n    return keys\r\n  }\r\n\r\n  // 点击搜索处理\r\n  onSearchHandler(val){\r\n    let tmpArr = this.state.menuConfig\r\n    let keys = this.getSearchKeys(tmpArr, val)\r\n    let isShowAll = !val ? true: false\r\n\r\n    if(0 !== keys.length && keys.length === tmpArr.length){\r\n      this.showSearchHandler(keys, isShowAll)\r\n    }else{\r\n      this.showSearchHandler(keys, isShowAll)\r\n    }\r\n  }\r\n\r\n  // 折叠菜单时\r\n\r\n  // 初始状态或状态变化会触发render\r\n  render(){\r\n    console.log('sider render')\r\n\r\n    if(0 === this.state.menuConfig.length){\r\n      return <div></div>\r\n    }else{\r\n      return (\r\n        <div>\r\n          {/* 展开菜单 */}\r\n          <div id=\"MenuJsxInline\" className='siderBlueSkin'>\r\n            <div className='changeFold'>\r\n              {/* 左侧栏顶部图标 */}\r\n              <div className={styles.button} onClick={ (e) => { this.toggleFold(e) }}>\r\n                <i className=\"iconfont icon-menufold\"/>\r\n              </div>\r\n              {\r\n                config.sysType === 'entCenter' || <div className='siderSearchBtn'>\r\n                  <Search\r\n                    placeholder=\"搜索\"\r\n                    style={{ width: 178 }}\r\n                    onSearch={value => this.onSearchHandler(value) }\r\n                  />\r\n                </div>\r\n              }\r\n\r\n            </div>\r\n            {/* 菜单列表 */}\r\n\t\t\t\t\t\t<ul className={`ant-menu ant-menu-inline menuLeft ant-menu-dark ant-menu-root ${config.sysType==='entCenter'?'':styles.fixScrollHeight}`} role=\"menu\" aria-activedescendant=\"\">\r\n\t\t\t\t\t\t{/*自定义滚动条组件*/}\r\n\t\t\t\t\t\t<Scrollbars\r\n\t\t\t\t\t\t\tref={(e) => { this.scrollbar = e}}\r\n\t\t\t\t\t\t\trenderTrackVertical={props => <div {...props} className={styles.trackVertical} />}\r\n\t\t\t\t\t\t\trenderThumbVertical={props => <div {...props} className={styles.thumbVertical} />}\r\n\t\t\t\t\t\t>\r\n              {/* 左侧菜单列表 */}\r\n              { this.renderMenuItems(false) }\r\n\r\n              {/* 空菜单 - 用于底部空隙 */}\r\n\t\t\t\t\t\t\t<li className=\"ant-menu-item\" role=\"menuitem\" aria-selected=\"false\" style={{ 'cursor': 'default', 'paddingLeft': '24px' }}></li>\r\n\t\t\t\t\t\t</Scrollbars>\r\n            </ul>\r\n          </div>\r\n\r\n          {/* 折叠菜单 */}\r\n          <div id=\"MenuJsxVertical\" className='siderBlueSkin siderBlueFold displayHide'>\r\n            <div className='changeFold'>\r\n              {/* 左侧栏顶部图标 */}\r\n              <div className='button' onClick={ (e) => { this.toggleFold(e) }}>\r\n                <i className=\"iconfont icon-menufold\"/>\r\n              </div>\r\n\r\n              {/* 左侧栏上滑按钮 */}\r\n              <div className='button' onClick={(e) => { this.menuUpDown(e, 'up') }}>\r\n                <Icon type=\"up\" style={{fontSize: '18px'}}/>\r\n              </div>\r\n            </div>\r\n\r\n            {/* 菜单列表 */}\r\n            <ul className=\"ant-menu ant-menu-vertical menuLeft ant-menu-dark ant-menu-root\" role=\"menu\" aria-activedescendant=\"\" id=\"MenuJsx\">\r\n              {/* 左侧菜单列表 */}\r\n              { this.renderMenuItems(true) }\r\n\r\n              {/* 空菜单 - 用于底部空隙 */}\r\n              <li className=\"ant-menu-item\" role=\"menuitem\" aria-selected=\"false\" style={{'cursor': 'default'}}></li>\r\n            </ul>\r\n\r\n            {/* 左侧栏下滑按钮 */}\r\n            <div className='button down' onClick={(e) => { this.menuUpDown(e, 'down') }}>\r\n              <Icon type=\"down\" style={{fontSize: '18px'}}/>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n"]}